<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student API</title>

  <script
			  src="https://code.jquery.com/jquery-3.6.0.min.js"
			  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
			  crossorigin="anonymous"></script>

  <base href=".">
</head>
<body>
  <div class="topdiv">
    <div class="leftdiv">
      <input id="studentfilter" onkeyup="filterByName()" class="textinput" type="text" placeholder="Filter Students...">
      <input id="coursefilter" onkeyup="filterByCourse()" class="textinput" type="text" placeholder="Filter Courses..."> 
    </div>
    <div class="rightdiv">
      <input class="buttoninput addstudentbtn" type="button" value="Add Student" >
      <input class="buttoninput addcoursebtn" type="button" value="Add Course" >
    </div>
  </div>

  <div class="addstudent">
    <label class="windowheader">Add Student</label>
    <div class="row">
      <label>First Name</label>
      <input id="firstname" type="text">
    </div>
    <span id="firstnamespan"></span>
    <div class="row">
      <label>Last Name</label>
      <input id="lastname" type="text">
    </div>
    <span id="lastnamespan"></span>
    <div class="row">
      <label>Address</label>
      <input id="address" type="text">
    </div>
    <span id="addressspan"></span>
    <div class="row">
      <label>City</label>
      <input id="city" type="text">
    </div>
    <span id="cityspan"></span>
    <div class="row">
      <label>State</label>
      <input id="state" type="text">
    </div>
    <span id="statespan"></span>
    <div class="row">
      <label>Date Of Birth</label>
      <input id="dateofbirth" type="date">
    </div>
    <div class="row">
      <input type="button" class="canceladdstudent" value="Cancel"></input>
      <input type="button" class="confirmaddstudent" value="Confirm"></input>
    </div>
  </div>
  <div class="addcourse">
    <label class="windowheader">Add Course</label>
    <div class="row">
      <label>Code</label>
      <input id="code" type="text">
    </div>
    <span id="codespan"></span>
    <div class="row">
      <label>Name</label>
      <input id="name" type="text">
    </div>
    <span id="namespan"></span>
    <div class="row">
      <label>Description</label>
      <input id="description" type="text">
    </div>
    <span id="descriptionspan"></span>
    <div class="row">
      <input type="button" class="canceladdcourse" value="Cancel"></input>
      <input type="button" class="confirmaddcourse" value="Confirm"></input>
    </div>
  </div>
  
  <script src="initDB.js" type="module"></script>
  <script src="index.js" type="module"></script>

  <script>
    function filterByName() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("studentfilter");
      filter = input.value.toUpperCase();
      table = document.getElementsByTagName("table")[0];
      tr = table.getElementsByTagName("tr");
      for (i = 1; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }       
      }
    }
    function filterByCourse() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("coursefilter");
      filter = input.value.toUpperCase();
      table = document.getElementsByTagName("table")[0];
      tr = table.getElementsByTagName("tr")[0];
      for (i = 1; i < tr.getElementsByTagName("td").length; i++) {

        td = tr.getElementsByTagName("td")[i];
        txtValue = td.textContent || td.innerText;

        let rows = table.getElementsByTagName("tr");

        if ((txtValue.toUpperCase().indexOf(filter) > -1))
        {
          

          for(let j=0; j<rows.length; j++){
            rows[j].getElementsByTagName("td")[i].style.display = "";
          }
          
        } else {
          for(let j=0; j<rows.length; j++){
            rows[j].getElementsByTagName("td")[i].style.display = "none";
          }
        }      
      }
    }
    </script>

</body>
</html>